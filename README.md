# Tor-Portable

Лёгкая в освоении, однокнопочная утилита для повседневного обхода цензуры (оптимизировалась под Ютуб) и совместного использования с PAC Антизапрет. Одобрено автором расширения Обход блокировок рунета.
В наличии exe с тихим запуском, лёгкая установка/удаление службы и революционные новые методы обхода блокировок с впечатляющей скоростью (мосты Webtunnel) 2024 года выпуска.

Read the English instructions below.

Support us:

5536 9141 8416 7645 — Verity Freedom (портативный Tor)

4377 7237 7311 4255 — ilyaigpetrov (расширение Runet censorship bypass)

https://antizapret.prostovpn.org/donate.html — ValdikSS (прокси Antizapret, ВАЖНО в ноябре и декабре каждого года)

Разработано при поддержке сообщества (в особенности отмечу помощь от DesuIsALie и bananakid).
Основной автор портативного Тора — Verity Freedom.
Автор прокси Антизапрет — ValdikSS.
Автор расширения Обход блокировок рунета — ilyaigpetrov.
Tor Expert Bundle от Tor Project.
SwitchyOmega от FelisCatus, ZeroOmega от zero-top.
Zapret от bol-van и Flowseal.

# Инструкция

Для начала нам необходимо поставить расширения. Начнём с Обхода блокировок рунета — используем его как чекер, будет выводить нам домёны страницы при наведении на него мышкой, которые затем можно ввести в проксируемые Тором исключения.

![0](https://github.com/user-attachments/assets/bccfff38-49a6-482b-8ac2-c763efe5f8e3)
![1](https://github.com/user-attachments/assets/f1278cc1-e443-4c9a-adf5-0e75e152c843)

Поставили его и сразу отключили. Даже отключенным он сможет исполнять свою единственную нужную нам функцию. Обязательно закрепите и его, и Омегу в панель расширений.

Дальше нам необходимо поставить расширение SwitchyOmega или же ZeroOmega. Разница между ними в том, что ZeroOmega не грозит отключение в Google Chrome, ибо он написан на более новом языке программирования, но какого-либо нового значительного функционала в него не привнесли, и лично я использую SwitchyOmega. Файлы расширений находятся в папке, не пытайтесь установить SwitchyOmega на Файрфокс из магазина — он слишком стар там и не будет работать корректно, запустится только из файла. Также рекомендую сразу же поставить лучший Адблок — Ublock Origin, он нам понадобится, чтобы противостоять рекламе разблокированного Ютуба. Ставить ZeroOmega крайне рекомендуется в обыкновенный Google Chrome, а SwitchyOmega в кастомные и старые браузеры.

Откройте папку AntiTor, найдите папку zapret-discord-youtube, запустите general.bat или же один из general (ALT).bat. Это разблокирует нам только Дискорд, но также способно разблокировать Ютуб БЕЗ Тора (с сохранением геоограничений). Будет работать одновременно с Тором, но снизу будет находиться сразу два окна. Чтобы убрать окно Тора, но сохранить его работоспособность, вы можете сначала выйти из него, а затем запустить его как службу через antitor-service.cmd.

Для настройки Омеги нам понадобится содержимое readme-omega.txt, которое я здесь и выложу. Далее мы к нему вернёмся.

<pre>https://disk.yandex.ru/d/XpKKtN9K2McDmA
https://p.thenewone.lol:8443/proxy.pac
127.0.0.1 9050

[SwitchyOmega Conditions]
@with result

*.onion +TOR
*.habr.com +TOR
*.voidboost.cc +TOR
*.clarity.ms +TOR
*.hdrezka.ag +TOR
*.youtube.com +TOR
*.youtu.be +TOR
*.ytimg.com +TOR
*.googlevideo.com +TOR
*.googleapis.com +TOR
*.googleusercontent.com +TOR
*.ggpht.com +TOR

* +PAC</pre>

![2](https://github.com/user-attachments/assets/e347fa0b-4dc6-4bd5-9dd3-4f25132e259b)

Поставьте и уберите галочки как у меня здесь. Жёлтым цветом я выделил то, что делать необязательно, но желательно. В данном случае я убрал вам перезагрузку вкладки при смене режима и выделил это жёлтым цветом, а красным потребовал у вас убрать прокликивание дополнительных подтверждений при настройке (эти подтверждения он и так и так будет у вас спрашивать, просто иначе они будут в двойном количестве). Жёлтым я также выделил режим system proxy, в котором Тор полностью отключен, но может быть использован системный VPN — используйте его в зависимости от надобности. Вам необходимо сделать названия режимов такими же, как и у меня, позже поймёте, почему. Вы можете понять, какой режим в какой у меня переименован по их значкам, ибо значки обозначают типы режимов.

Настраиваем режим TOR как показано здесь:

![3](https://github.com/user-attachments/assets/812ad2ff-6746-4e3a-9d38-6b616408e00c)

Можете скопировать нужные нам значения выше из readme-omega.txt или написать их самостоятельно.

Создаём абсолютно новый режим PAC в типе PAC Profile. Необходимо только для россиян.

![4](https://github.com/user-attachments/assets/9a1e814f-a401-4b45-8e73-707b7ac59503)
![5](https://github.com/user-attachments/assets/7ba1784a-3fbd-40a6-bc1f-739bcfd7fe06)

В этом режиме мы вставляем ссылку https://p.thenewone.lol:8443/proxy.pac и нажимаем скачать профиль (download profile). После сохраняем изменения. Это скачает нам Антизапрет — прокси с раздельным туннелированием для разблокировки основной части заблокированных сайтов.

Так как только теперь у нас готовы все режимы, я хочу, чтобы вы убедились, что у вас включен quick switch в настройках Омеги, и все режимы в нём стоят корректно. Это понадобится нам в будущем.

Далее мы переходим в режим AUTO. У вас он ранее назывался как-то иначе, но там всегда было слово auto.

![6](https://github.com/user-attachments/assets/5945e61b-62e7-4092-8044-15f4d6709c1f)

Нажимаем Edit source code и вставляем содержимое readme-omega.txt сверху, начиная от [SwitchyOmega Conditions] и заканчивая * +PAC. Это сконфигурирует режим AUTO так, что большинство сайтов не будет проксироваться, основная часть заблокированных сайтов будет пускаться через PAC Антизапрет, и только несколько сайтов будут пускаться через Тор, ибо Антизапрет слишком медленный и тот же Ютуб практически не проксирует (только аватарки). Именно здесь важно, что у вас названия должны совпадать с моими, ибо названия всех режимов активно используются в этом коде. Тор уберёт на Ютубе геоблокировки ценой появления рекламы. Вы должны были не забыть поставить Ublock Origin.

Если вы правильно настроили quick switch, режимы вы можете переключать кнопкой мыши. Режимов три — system, AUTO и TOR. Про system и AUTO я уже рассказал выше, а вот в режиме TOR мы можем снимать блокировки со всяких спотифаев и чатжпт ценой отключения доступа к российским сайтам по типу госуслуг и некоторых других, которые блокируют Тор на стороне. Чтобы вы не запутались между режимами, я рекомендую выставить их цвета такими же, как и у меня. Хотя вы можете забить на это или напротив проявить креативный подход. Режим quick switch вы можете отключить в любой момент через правую кнопку мыши.

![7](https://github.com/user-attachments/assets/924004de-ca87-4ea2-9d70-f64773e2d984)
![8](https://github.com/user-attachments/assets/50bc43e4-477f-4b2c-82a2-2810753daf39)
![9](https://github.com/user-attachments/assets/9764eb09-c3fb-423b-8c43-653673bd27a6)

Скорость Тора можете проверять по speedcheck.org в режиме TOR. Целевая скорость для большинства из вас — 2К 60 видео на Ютубе без прогрузок. Но есть возможность ускорить его вплоть до 4К 60 редактированием файла torrc.txt и использованием скоростного ip. Я не стал ставить скоростной ip всем вам, боясь перегрузить его, ибо некоторые ip Тора частично заблокированы на Ютубе. Также вам необходимо заменять мосты в случае, если один из них откажет, или брать их у меня в новейших релизах (далеко не факт, что я заменю их, ибо это довольно рутинная и бесполезная работа). Несколько мостов уже есть в файле torrc.txt, все остальные содержатся в bridges-webtunnel-list.txt

# Разблокировываем ВЕСЬ ИНТЕРНЕТ играючи!

1) Самое простое задание — доступ к даркнету, если вы всё сделали правильно. Перейдите на http://flibustaongezhld6dibs2dps6vm4nvqg2kp7vgowbu76tzopgnhazqd.onion/ и у вас откроется onion версия Флибусты. Даркнет теперь будет всегда рядом.
2) Мы разблокировали доступ к статьям о VPN на habr.com — перейдите по https://habr.com/ru/articles/849092/, в ином случае эта статья бы не открылась. Можете перейти в режим system proxy, чтобы подметить разницу, для чего нужно перезагрузить страницу.
3) Примеры геозаблокированных видео на Ютуб — https://www.youtube.com/watch?v=OqPl4QrczTk и https://www.youtube.com/watch?v=-kcOpyM9cBg. Без Тора к ним доступа не будет даже через Запрет, способный разблокировать Ютуб в целом. Ютуб часто блочит видео только для Тора, но таких немного, и блокировки лишь на некоторых торовских ip, они доступны даже в России. Знайте, что если что-то пойдёт не так, у вас перестанет проигрываться это видео https://www.youtube.com/watch?v=O_ItSLCZWb0.
4) gosuslugi.ru откроются только в режиме AUTO и system.
5) !*! Первое задание повышенной сложности — доступ на сайт pixiv.net у вас будет только в режиме AUTO. Насколько мне известно, только в режиме AUTO также прогружаются аватарки на chess.com.
6) !*! Сайт chatgpt.com откроется, напротив, только в режиме TOR.
7) !*! Discord запустится только если вы не забыли до этого запустить zapret по гайду. Может запуститься не с первого раза, для этого понадобится запустить zapret через другой general.
8) !**! Сложное задание для вас — проиграть данное видео https://www.youtube.com/watch?v=LXb3EKWsInQ в 4К без единой прогрузки. По умолчанию вы используете диапазон, на котором находятся ip с разной и далеко не рекордной пропускной способностью. Вероятно, чтобы выполнить это задание, вам потребуется отредактировать файл torrc.txt и заменить используемую строчку ExitNodes на скоростную ExitNodes. Для этого вам нужно убрать символ # со скоростного ExitNodes и добавить его в предыдущий ExitNodes. Возможно вам повезёт и у вас получится проиграть данное видео без дополнительных модификаций. Вам стоит измерить скорость на speedcheck.org и убедиться, что ваша средняя скорость превышает 30 mb/s, чтобы заранее понять, есть ли у вас шансы.
9) !***! Самое сложное задание — доступ к hdrezka.ag. По дефолту хдрезке не нравится используемый хорватский диапазон, ибо Тор использует одновременно несколько ip для доступа к ней. Однако у Антизапрета не хватает скорости для комфортного проксирования хдрезки в фуллхд, поэтому она проксируется Тором в обоих режимах. При этом основной используемый скоростной ip хдрезке тоже не подойдёт, ибо у неё есть геоблокировка как на Германию, так и на Люксембург. Чтобы комфортно смотреть хдрезку, возьмите ip, начинающийся на 45., из ExitNodesList, и замените им используемый вами ExitNodes.

После выполнения всех заданий вы можете знать, что овладели Тором в совершенстве.

На некоторых сайтах по типу polymarket.com могут быть сложности с регистрацией даже в режиме TOR, так как у него много защит, а у Тора очень грязные ip. Лично я использую доставшийся бесплатно VLESS на Некорэе для доступа к polymarket.com и не знаю, возможен ли доступ к нему через какой-либо обскурный торовский ip. Поэтому задания по регистрации на polymarket.com через Тор нет, и я считаю его невозможным, как какую-нибудь теорему Ферма. Возможно умельцы когда-нибудь и справятся, но я сильно сомневаюсь. Важно знать, что даже Тор не всесилен, хотя обеспечивает доступ свободный доступ к 99% интернета.

Для проксирования отдельных приложений Тором умельцы используют инструменты по типу proxify или же privoxy.

# Старая инструкция

1) В настоящее время я рекомендую использовать в качестве основного расширение ZeroOmega, так как оно позволяет пустить через Тор весь браузерный трафик, что полезно для избежания геолокации.
А если оно установлено совместно с Обходом, то последний будучи выключенным начинает показывать список всех проксируемых Тором домёнов, для чего сам ZeroOmega должен находиться в режиме TOR.
Ранее использовалось полностью аналогичное, более старое расширение SwitchyOmega, но к сожалению не все современные браузеры совместимы с ним. Вы можете использовать его, если не собираетесь уходить с Manifest V2.
Для его установки и настройки изучите содержимое папки readme-omega. Желательно дать профилям те же названия, что и в папке, ибо они используются в режиме AUTO.
Для проксирования Ютуба скопируйте короткий (предпочтительно) или длинный список из readme-youtube (короткий список также имеется в папке readme-omega) и добавьте эти адреса в исключения.
Убедитесь, что у вас стоит адблок чтобы противодействовать Ютуб-рекламе (признанный самым лучшим из них имеется в архиве).

2) Если вы собираетесь использовать расширение Обход блокировок рунета, то убедитесь, что в нём стоят флаги: учитывать исключения (в разделе "Исключения");
Использовать прокси PAC-скрипта, Использовать СВОЙ локальный Tor, СВОИ прокси только для СВОИХ сайтов, Проксировать .onion (в разделе "Свои прокси").
Используйте или режим антизапрет, или режим антицензорити, или выключайте его (для совместной работы с ZeroOmega).
В режиме "антизапрет" через Тор будут проксироваться только сайты-исключения (проксировать — да), а остальные будут подхватываться антизапретом.
В режиме "антицензорити" проксироваться через него будут все сайты, ограниченные средствами российской цензуры.
Тор сможет зайти не везде, так как иногда сайты блокируют его на стороне, именно поэтому в обоих расширениях необходимо использовать его совместно с PAC Антизапрет, переключаясь только на него лишь в некоторых случаях.

3) Запускайте программу через AntiTor.exe, пусть она работает на фоне.
Желательно поставьте ярлык, ведущий на AntiTor.exe, в автозагрузку (автозагрузка вызывается командой shell:startup в меню win+r).
Его также можно закрепить в панель задач.

4) В мостах используется четыре совершенно разных типа подключения: obfs4, snowflake, conjure и webtunnel (по умолчанию, оптимально использовать только его по причине более высокой скорости).
Заменяйте мосты редактированием файла torrc, получайте новые через запрос моста в tor browser или отправив пустое письмо на адрес bridges@torproject.org.
Новый webtunnel можно получить по адресам https://bridges.torproject.org/bridges/?transport=webtunnel и https://github.com/scriptzteam/Tor-Bridges-Collector/blob/main/bridges-webtunnel.
Мосты могут отпадать постепенно, о чём программа сообщает тем, что один из мостов отказал, что негативно влияет на качество подключения и может привести к его полному разрыву.
Рекомендую прочитать файл torrc, так как помимо кода для корректной работы программы в нём содержится множество важных технических подробностей и даже есть настройки для увеличения скорости (язык английский).

5) Используйте файл antitor-service, если хотите установить или удалить Тор в качестве службы. Запустите Zapret в сборке от Flowseal, чтобы восстановить работу Дискорда (на всё остальное не повлияет, находится в папке).

Готово!

# English instructions

Developed with the support of the community (especially the help from DesuIsALie and bananakid).
The main author of the portable Tor is Verity Freedom.
Tor Expert Bundle from Tor Project.
SwitchyOmega from FelisCatus, ZeroOmega from zero-top.

1) Run the program via AntiTor.exe, let it work in the background. Preferably put a label leading to AntiTor.exe to startup (startup is called by the shell:startup command in the win+r menu), it also can be pinned to the taskbar.
To proxy browser traffic through Tor use ZeroOmega extension, read how to use it in readme-omega folder.
Previously, a completely similar, older SwitchyOmega extension was used, but unfortunately not all modern browsers are compatible with it. You can use it if you are not going to leave Manifest V2.

2) Bridges use four completely different connection types: obfs4, snowflake, conjure and webtunnel (default, it is optimal to use only it because of the higher speed).
Replace the bridges by editing the torrc file, receive new ones via a bridge request in the tor browser or send an empty email to bridges@torproject.org.
The new webtunnel bridge can be obtained at https://bridges.torproject.org/bridges/?transport=webtunnel and https://github.com/scriptzteam/Tor-Bridges-Collector/blob/main/bridges-webtunnel.
Bridges may disappear gradually, as the program informs you that one of the bridges has failed, which negatively affects the quality of the connection and can lead to its complete breakdown.
I recommend reading the torrc file, because in addition to the code for the correct operation of the program, it contains many important technical details and even has settings to increase speed (language English).

3) Use the antitor-service file if you want to install or uninstall Tor as service.

Ready!
